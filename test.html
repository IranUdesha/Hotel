<html>
    <head>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
        <script>
            var stateManager = (function () {
            var state = null;
            var resizePage = function () {
                if ($('body').width() < 768) {
                if (state !== "mobile") { displayMobile(); }
            resizeMobile();
                }
                else {
                if (state !== "desktop") { displayDesktop(); }
            resizeDesktop();
                }
            }; 
            var displayMobile = function () {
            state = "mobile";
            console.log("enter mobile");
            $('#swap').attr('src', 'img/main1.jpg');
            };
            var displayDesktop = function () {
            state = "desktop";
            console.log("enter desktop");
            $('#swap').attr('src', 'img/main2.jpg');
            };
            var resizeMobile = function () {
                console.log("resizing mobile");
            };
            var resizeDesktop = function () {
                console.log("resizing desktop");
            };
            return {
                init: function () {
                resizePage();
                $(window).on('resize', resizePage);
                }
            };
            } ());
            stateManager.init();    
        </script>
    </head>
    <body>
        <img id="swap" src="img/main1.jpg" >
    </body>
</html>